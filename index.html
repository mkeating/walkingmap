<!DOCTYPE html>
<html>
<head>
<title>WALKING MAP</title>
<link rel="stylesheet" type="text/css" href="leaflet/leaflet.css" />

</head>
<style type="text/css">

#map {
	height: 600px;
	border: 1px solid white;
	width: 80%;
	margin: 0 auto;
}

body{
	background-color: gray;
	font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif; 
   	font-weight: 300;
}

.button {

	border: 3px solid white;
	float:left;
	width: 124px;
	height: 72px;
	color:white;
	font-weight: 300;
	border-radius: 15px;
	margin-left:  23%;
	margin-right:  23%;

}

img{
	display:block;
	margin: 0 auto;
}

#buttonBox{
	width:80%;
	margin: 0 auto;

}

.box{
	float: left;
	width:23%;
	margin-top: 20px;
	
}
#explain{

	margin: 0 auto;
	text-align: center;
}
#explain p{
	float: none;
	color: white;
	
}

#explain p a{
	float: none;
	color: white;

}

#movies{
	background-color: #BF0CE8;
}

#churches{
	background-color: #52C4FF;
}

#grocery{
	background-color: #FF6800;
}

#library{
	background-color: #0DFFCB;
}

#title{
	width: 100%;
	float:left;
	color:white;
	font-size: 6em;
}


#github{
	float:right;
}

#buffer{
	float: left;
	height: 50px;
	min-height: 30px;
	width: 100%;
}


</style>
<body>

	<div id="title">WALKING MAP   <a id="github" href="https://github.com/mkeating/walkingmap"><img src="icons/github.png"></a></div>
	<div id="explain">
		<p>Click each icon to see which areas are within a 2 mile walking distance from each resource; movie theaters, churches, grocery stores, and libraries.<p>
		<p>Sources: ESRI Streets, US Dept. of Commerce NAICS database</p>
		<p>Polygons generated with <a href="https://www.arcgis.com/features/">ArcGIS</a> and displayed with <a href="http://leafletjs.com/">Leaflet</a></p> 
	</div>
	<div id="map"></div>
	<div id="buttonBox">
		<div class="box"><div id="movies" class="button"><img src="icons/movie.png"></div></div>
		<div class="box"><div id="churches" class="button"><img src="icons/church.png"></div></div>
		<div class="box"><div id="grocery" class="button"><img src="icons/grocery.png"></div></div>
		<div class="box"><div id="library" class="button"><img src="icons/library.png"></div></div>
	</div>
	<div id="buffer"></div>


<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js" charset="utf-8"></script>

<script type="text/javascript" src="leaflet/leaflet.js"></script>

<script type="text/javascript" src="leaflet/leaflet_embed.js"></script>


<!--buffer geoJson files -->

<script type="text/javascript" src="json/moviebuffer.js"></script>
<script type="text/javascript" src="json/churchesbuffer.js"></script>
<script type="text/javascript" src="json/grocerybuffer.js"></script>
<script type="text/javascript" src="json/librarybuffer.js"></script>
<!-- -->

<script  type="text/javascript">

	var active = "";
	var bufferLayer;

	$(function() {
		initmap();

		$( "#movies").click(function(){
			active = "movies";
			if( bufferLayer != null) {
				map.removeLayer(bufferLayer);
			}
			bufferLayer = L.geoJson(movies, {
				style: movieStyle
			});
			bufferLayer.addTo(map);
			console.log(active);
		});

		$( "#churches").click(function(){
			active = "churches";
			if( bufferLayer != null) {
				map.removeLayer(bufferLayer);
			}
			bufferLayer = L.geoJson(churches, {
				style: churchStyle
			});
			bufferLayer.addTo(map);
			console.log(active);
		});

		$( "#grocery").click(function(){
			active = "grocery";
			if( bufferLayer != null) {
				map.removeLayer(bufferLayer);
			}
			bufferLayer = L.geoJson(grocery, {
				style: groceryStyle
			});
			bufferLayer.addTo(map);
			console.log(active);
		});

		$( "#library").click(function(){
			active = "library";
			if( bufferLayer != null) {
				map.removeLayer(bufferLayer);
			}
			bufferLayer = L.geoJson(library, {
				style: libraryStyle
			});
			bufferLayer.addTo(map);
			console.log(active);
		});

	});
</script>
	


</body>

<html>